import{a as z}from"./chunk-HHM2QVZI.js";import{a as R}from"./chunk-VHF434VP.js";import{a as E,b as L}from"./chunk-ILOFINLE.js";import{a as F}from"./chunk-TOTSVBZH.js";import{a as B}from"./chunk-TWKP3DDW.js";import"./chunk-JLWJS3NC.js";import{v as $,x as G}from"./chunk-VK5SKOH2.js";import{a as M,b as P}from"./chunk-H36UI7KJ.js";import"./chunk-YKOQL55W.js";import"./chunk-MACVMKOA.js";import{f as w}from"./chunk-YCONRSTD.js";import{p as j}from"./chunk-AY5GOTEJ.js";import{Hb as a,Ib as D,Jb as u,Pb as S,Qa as p,Wb as V,Xb as I,Z as c,ca as g,fb as y,hb as x,la as d,ma as _,mb as k,nb as T,ob as b,pb as v,qb as o,rb as l,sb as h,wb as C,xb as f,yb as m}from"./chunk-IAIY7PNC.js";var H=(r,t)=>t.id_cap_pl;function J(r,t){if(r&1){let e=C();o(0,"p-chip",0),f("click",function(){d(e);let i=m();return _(i.irDetalleLibro())}),l(),a(1)}if(r&2){let e=t.$implicit;x("label",e.nro_capitulo),p(),u(" ",e.id_editorial_pl,`
`)}}var O=(()=>{let t=class t{constructor(){this.cap=[],this._router=c(w),this._e=c(F)}irDetalleLibro(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-lista-cap"]],inputs:{cap:"cap"},standalone:!0,features:[S],decls:2,vars:0,consts:[[1,"text-xs","cursor-pointer",3,"click","label"]],template:function(i,s){i&1&&b(0,J,2,2,null,null,H),i&2&&v(s.cap)},dependencies:[L,E]});let r=t;return r})();var K=(r,t)=>t.id_genero;function Q(r,t){if(r&1){let e=C();o(0,"p-chip",12),f("click",function(){let i,s=d(e).$implicit,A=m();return _(A._router.navigate(["/dashboard/home/libro/genero",s.nombre==null||(i=s.nombre.split(" "))==null||(i=i.join("_"))==null||(i=i.split("/"))==null?null:i.join("_")]))}),l()}if(r&2){let e=t.$implicit;x("label",e.nombre)}}function U(r,t){if(r&1&&(h(0,"p-divider"),o(1,"div",22)(2,"div",23),h(3,"app-lista-cap",24),l()()),r&2){let e=m().$implicit;p(3),x("cap",e.cap_pl_ln)}}function W(r,t){if(r&1){let e=C();o(0,"div",11)(1,"h2",13),a(2),l(),o(3,"span",14),a(4),l(),o(5,"p",15),a(6),l(),o(7,"div",16)(8,"span"),a(9,"Autor: "),o(10,"span",17),f("click",function(){let i=d(e).$implicit,s=m();return _(s.irPerfil(i.id_autor))}),a(11),l()(),o(12,"span"),a(13,"G\xE9nero: Drama, Comedia, Suspenso"),l(),o(14,"span"),a(15),l(),o(16,"span"),a(17),V(18,"formatfecha"),l()(),o(19,"div",18)(20,"button",19),f("click",function(){let i=d(e).$implicit,s=m();return _(s.abrirCap(i.id_pl_ln))}),h(21,"i",20),o(22,"span",21),a(23,"Ver Capitulos"),l()()(),y(24,U,4,1),l()}if(r&2){let e=t.$implicit,n=m();p(2),u("Libro ",e.titulo,""),p(2),u("Titulo Original: ",e.titulo,""),p(2),u(" ",e.descripcion," "),p(5),D(e&&(e.autor==null||e.autor.usuario==null||e.autor.usuario.persona==null?null:e.autor.usuario.persona.nombre)),p(4),u("Nro Capitulo: ",e.cap_pl_ln==null?null:e.cap_pl_ln.length," capitulos"),p(2),u("Fecha de publicaci\xF3n: ",I(18,7,e.cap_pl_ln&&(e.cap_pl_ln[0].editorial==null?null:e.cap_pl_ln[0].editorial.fecha_registro)),""),p(7),k(24,n.visualizacionComentarios[e.id_pl_ln]?24:-1)}}var he=(()=>{let t=class t{constructor(){this.listaGenero=[],this.listaData=[],this.listPL=[],this.abrir=!0,this.visualizacionComentarios={},this._genero=c(z),this._router=c(w),this._ec=c(F),this._p=c(B)}ngOnInit(){this._genero.getGeneros().subscribe(n=>{this.listaData=n,this.listaGenero=this.listaData.filter(i=>i.id_categoria===3)}),this._p.getListarPubLibros().subscribe({next:n=>{this.listPL=n},error:n=>{console.log(n)}})}abrirCap(n){console.log(n),this.visualizacionComentarios[n]=this.visualizacionComentarios?!this.visualizacionComentarios[n]:!this.visualizacionComentarios[n]}irPerfil(n){this._ec.navigateToProfile(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-libro"]],standalone:!0,features:[S],decls:21,vars:0,consts:[[1,"p-6","shadow-3","flex","flex-column","md:flex-row","align-items-center","justify-content-between","border-round",2,"background","linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1C80CF 47.88%, #FFFFFF 100.01%)"],[1,"pr-4"],[1,"text-blue-100","font-semibold"],[1,"text-white","font-bold","text-2xl"],["src","../../../../assets/appp.jpg","alt","",1,"w-7rem","h-7rem","border-circle","shadow-2","border-3","border-white"],[1,"grid","pt-2"],[1,"col-12"],[1,"p-3","shadow-3","border-round"],[1,"font-semibold","text-lg","pb-2"],[1,"grid","justify-content-between","p-2"],[1,"p-1","cursor-pointer",3,"label"],[1,"surface-card","shadow-3","border-round","p-4","mt-2","mb-4"],[1,"p-1","cursor-pointer",3,"click","label"],[1,"m-0","mb-3"],[1,"text-sm","font-italic","text-color-secondary"],[1,"text-justify"],[1,"flex","flex-column","gap-2"],[1,"no-underline","cursor-pointer","text-blue-500",3,"click"],[1,"text-center","mt-4"],["pButton","",3,"click"],[1,"pi","pi-plus"],[1,"ml-1"],[1,"cap-scroll"],[1,"flex","align-items-center","justify-content-between","gap-2","flex-wrap"],[3,"cap"]],template:function(i,s){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),a(3,"Colleccion de libros"),l(),o(4,"div",3),a(5,"Descubre mundos nuevos mientras exploras nuestra colecci\xF3n"),l()(),o(6,"div"),h(7,"img",4),l()(),o(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),a(12,"Generos"),l(),o(13,"div",9),b(14,Q,1,1,"p-chip",10,K),l()()(),o(16,"div",6)(17,"span"),a(18,"Libros Recientes"),l(),b(19,W,25,9,"div",11,T),l()()),i&2&&(p(14),v(s.listaGenero),p(5),v(s.listPL))},dependencies:[j,L,E,O,R,P,M,G,$]});let r=t;return r})();export{he as default};
