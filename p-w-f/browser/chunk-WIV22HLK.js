import{a as J}from"./chunk-6MYBLGDQ.js";import{a as L,b as H}from"./chunk-WJWYX7P2.js";import"./chunk-FWIQBBLO.js";import{a as oe,b as re}from"./chunk-RQ6EJIW5.js";import{a as K}from"./chunk-RAT4GOAS.js";import{b as D,c as W,e as P,f as N,g as M,h as k,j as U,k as j,l as z,o as G,p as Z,q as $}from"./chunk-7N472BOY.js";import"./chunk-Q6IZA5MS.js";import"./chunk-XSSXK7EZ.js";import"./chunk-JLWJS3NC.js";import{f as I,t as ee,u as te,v as O,w as ie,x as q}from"./chunk-VK5SKOH2.js";import{a as R,b as B}from"./chunk-H36UI7KJ.js";import{a as ne}from"./chunk-MACVMKOA.js";import{k as X,p as Y}from"./chunk-AY5GOTEJ.js";import{Gb as w,Hb as r,Ib as S,La as T,Ob as y,Pb as V,Qa as m,Rb as F,Z as C,ca as A,fb as E,hb as x,la as f,ma as _,mb as g,qb as e,rb as t,sb as s,wb as v,xb as p,yb as u}from"./chunk-IAIY7PNC.js";function pe(n,c){if(n&1){let i=v();e(0,"img",14),p("click",function(){f(i),u();let o=w(6);return _(o.click())}),t()}if(n&2){let i=u();x("src",i.imagen+i.informacionAutorConfig.foto_perfil,T)}}function ue(n,c){if(n&1){let i=v();e(0,"img",15),p("click",function(){f(i),u();let o=w(6);return _(o.click())}),t()}if(n&2){let i=u();x("src",i.imageUrl.toString(),T)}}function fe(n,c){if(n&1){let i=v();e(0,"img",16),p("click",function(){f(i),u();let o=w(14);return _(o.click())}),t()}if(n&2){let i=u();x("src",i.imagen+i.informacionAutorConfig.foto_portada,T)}}function _e(n,c){if(n&1){let i=v();e(0,"img",17),p("click",function(){f(i),u();let o=w(14);return _(o.click())}),t()}if(n&2){let i=u();x("src",i.imageUrlT.toString(),T)}}var le=(()=>{let c=class c{constructor(){this.selectedFile=null,this.selectFileFondo=null,this.informacionAutorConfig={},this.imagen=ne.api,this.imageUrl=null,this.imageUrlT=null,this._u=C(J),this._autor=C(K),this.toast=C(I)}ngOnInit(){this.formApariencia=new M({imagenperfil:new k,imagenfondo:new k}),this._autor.getInformacionAutor(localStorage.getItem("id")).subscribe(a=>{this.informacionAutorConfig=a})}onfileIn(a){let o=a.target.files[0];if(o){this.selectedFile=o;let l=new FileReader;l.onload=d=>{this.imageUrl=d.target?.result},l.readAsDataURL(o)}}onfileInT(a){let o=a.target.files[0];if(o){this.selectFileFondo=o;let l=new FileReader;l.onload=d=>{this.imageUrlT=d.target?.result},l.readAsDataURL(o)}}guardarApariencia(){let a=this.selectedFile,o=this.selectFileFondo,l=localStorage.getItem("id"),d=new FormData;a&&o&&l&&(d.append("perfilimagen",a),d.append("backgroundImage",o),d.append("id",l),this._u.addUploadApariencia(d).subscribe(h=>{this.toast.add({severity:"success",key:"msjA",summary:"Apariencia",detail:"Apariencia guardada con exito",life:3e3}),console.log(h)}))}};c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=A({type:c,selectors:[["app-apariencia"]],standalone:!0,features:[y([I]),V],decls:21,vars:3,consts:[["file",""],["files",""],["action","",3,"formGroup"],[1,"flex","gap-5","flex-column-reverse","md:flex-row"],[1,"flex-auto","p-fluid"],["pButton","","label","Actualizar apariencia",1,"mb-2",3,"click"],[1,"flex","flex-column","align-items-center","flex-or"],["type","file","formControlName","imagenperfil",1,"hidden",3,"change"],[1,"font-normal","text-900","mb-2"],["alt","",1,"h-10rem","w-10rem","border-circle",3,"src"],["pButton","","icon","pi pi-pencil",1,"-mt-4","p-button-rounded",3,"click"],["type","file","formControlName","imagenfondo",1,"hidden",3,"change"],["alt","",1,"h-15rem","w-auto","border-round",3,"src"],["key","msjA"],["alt","",1,"h-10rem","w-10rem","border-circle",3,"click","src"],["alt","Previsualizaci\xF3n de la imagen",1,"h-10rem","w-10rem","border-circle",3,"click","src"],["alt","",1,"h-15rem","w-auto","border-round",3,"click","src"],["alt","Previsualizaci\xF3n de la imagen",1,"h-15rem","w-auto","border-round",3,"click","src"]],template:function(o,l){if(o&1){let d=v();e(0,"form",2)(1,"div",3)(2,"div",4)(3,"button",5),p("click",function(){return f(d),_(l.guardarApariencia())}),t(),e(4,"div",6)(5,"input",7,0),p("change",function(b){return f(d),_(l.onfileIn(b))}),t(),e(7,"span",8),r(8,"Foto de perfil"),t(),E(9,pe,1,1,"img",9)(10,ue,1,1),e(11,"button",10),p("click",function(){f(d);let b=w(6);return _(b.click())}),t(),s(12,"p-divider"),e(13,"input",11,1),p("change",function(b){return f(d),_(l.onfileInT(b))}),t(),e(15,"span",8),r(16,"Foto de portada"),t(),E(17,fe,1,1,"img",12)(18,_e,1,1),e(19,"button",10),p("click",function(){f(d);let b=w(14);return _(b.click())}),t()()()()(),s(20,"p-toast",13)}o&2&&(x("formGroup",l.formApariencia),m(9),g(9,l.imageUrl?10:9),m(8),g(17,l.imageUrlT?18:17))},dependencies:[q,O,H,L,G,U,D,P,N,j,z,B,R]});let n=c;return n})();var Q=n=>({"surface-200":n});function xe(n,c){if(n&1){let i=v();e(0,"form",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),r(5,"Descripcion"),t(),s(6,"textarea",16),t(),e(7,"div",14)(8,"label",17),r(9,"Ocupacion"),t(),s(10,"input",18),t(),e(11,"div",19)(12,"p-button",20),p("onClick",function(){f(i);let o=u(2);return _(o.ActulizarDatosPerfil())}),t(),e(13,"p-button",21),p("onClick",function(){f(i);let o=u(2);return _(o.cancelar())}),t()()()()()}if(n&2){let i=u(2);x("formGroup",i.formPerfil),m(12),x("disabled",i.formPerfil.invalid)}}function ge(n,c){if(n&1&&(e(0,"li",22)(1,"div",15),r(2,"Descripcion"),t(),e(3,"span",23),r(4),t(),e(5,"div",24),s(6,"button",25),t()(),e(7,"li",22)(8,"div",15),r(9,"Ocupacion"),t(),e(10,"span",23),r(11),t(),e(12,"div",24),s(13,"button",25),t()(),e(14,"li",22)(15,"div",15),r(16,"Pais"),t(),e(17,"span",23),r(18),t(),e(19,"div",24),s(20,"button",25),t()()),n&2){let i=u(2);m(4),S(i.info.descripcion),m(7),S(i.info.ocupacion),m(7),S(i.info.pais!=null&&i.info.pais.nombre?i.info.pais==null?null:i.info.pais.nombre:"No fue seleecionado")}}function Ce(n,c){if(n&1&&(e(0,"div",10),r(1,"Informacion de Perfil"),t(),s(2,"br"),E(3,xe,14,2,"form",11)(4,ge,21,3)),n&2){let i=u();m(3),g(3,i.EditarPerfil?3:4)}}function ve(n,c){if(n&1&&(e(0,"div",26),r(1,"Informacion de la cuenta"),t(),s(2,"br"),e(3,"li",22)(4,"div",15),r(5,"Nombre"),t(),e(6,"div",23),r(7),t(),e(8,"div",24),s(9,"button",25),t()(),e(10,"li",22)(11,"div",15),r(12,"Nick Name"),t(),e(13,"div",23),r(14),t(),e(15,"div",24),s(16,"button",25),t()(),e(17,"li",22)(18,"div",15),r(19,"Correo Electronico"),t(),e(20,"div",23),r(21),t(),e(22,"div",24),s(23,"button",25),t()()),n&2){let i=u();m(7),S(i.info.usuario==null||i.info.usuario.persona==null?null:i.info.usuario.persona.nombre),m(7),S(i.info.nick_name),m(7),S(i.info.usuario!=null&&i.info.usuario.correo?i.info.usuario==null?null:i.info.usuario.correo:"No fue designado un coreo")}}function Se(n,c){n&1&&(e(0,"div",10),r(1,"Apariencia"),t(),s(2,"p-divider")(3,"app-apariencia"))}function be(n,c){n&1&&(e(0,"div",10),r(1,"Cambiar contrase\xF1a"),t(),s(2,"p-divider"),e(3,"li",27)(4,"div",15),r(5,"Contrase\xF1a"),t(),e(6,"span",23),r(7),t(),e(8,"div",24),s(9,"button",25),t()()),n&2&&(m(7),S("*********"))}var Ye=(()=>{let c=class c{constructor(){this.selectedItem="perfil",this.EditarPerfil=!1,this.info={},this._autor=C(K),this._u=C(J),this._toast=C(I)}ngOnInit(){this._autor.getInformacionAutor(localStorage.getItem("id")).subscribe(a=>{this.info=a}),this.formPerfil=new M({ocupacion:new k("",W.required),descripcion:new k("",W.required)})}selectItem(a){this.selectedItem=a}editarPerfil(){this.EditarPerfil=!0}cancelar(){this.EditarPerfil=!1}ActulizarDatosPerfil(){if(this.formPerfil.valid){let a={ocupacion:this.formPerfil.get("ocupacion")?.value,descripcion:this.formPerfil.get("descripcion")?.value};this._autor.putInformacionPerfil(a,localStorage.getItem("id")).subscribe(o=>{})}}};c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=A({type:c,selectors:[["app-configuracion"]],standalone:!0,features:[y([I]),V],decls:31,vars:16,consts:[[1,"flex","flex-column","flex-auto"],[1,"surface-section","px-4","lg:py-5","lg:px-6","h-full","border-round-top-3xl"],[1,"flex","flex-column","md:flex-row","w-full","justify-content-between","md:align-items-center"],[1,"p-fuid","flex","flex-column","lg:flex-row"],[1,"list-none","m-0","p-0","flex","flex-row","lg:flex-column","justify-content-between","lg:justify-content-start","mb-5","lg:mb-0"],[3,"click","ngClass"],[1,"p-3","cursor-pointer","lg:w-12rem","flex","align-items-center"],["pRipple","",1,"font-medium","text-700"],[1,"surface-card","p-5","shadow-2","border-round","flex-auto","xl:ml-5"],["key","msj"],[1,"text-900","font-semibold","text-lgmt-3"],[3,"formGroup"],[1,"flex","gap-5","flex-column-reverse","md:flex-row"],[1,"flex-auto","p-fluid"],[1,"mb-4"],[1,"text-500","w-6","md:w-2","font-medium"],["name","","pInputTextarea","","id","","cols","30","rows","10","formControlName","descripcion"],["for","",1,"block","font-normal","text-900","mb-2"],["type","text","pInputText","","formControlName","ocupacion"],[1,"mb-4","flex","gap-3","flex-column"],["label","Actualiza Datos",1,"w-full","flex","justify-content-center",3,"onClick","disabled"],["label","Cancelar",1,"w-full","flex","justify-content-center",3,"onClick"],[1,"flex","align-items-center","py-3","px-2","border-top-1","surface-border","flex-wrap"],[1,"text-900","w-full","md:w-8","md:flex-order-0","flex-order-1"],[1,"w-6","md:w-2","flex","justify-content-end"],["pButton","","label","Editar","icon","pi pi-pencil",1,"p-button-text"],[1,"text-1000","font-semibold","text-lgmt-5"],[1,"flex","align-items-center","py-3","px-2","surface-border","flex-wrap"]],template:function(o,l){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2"),r(5,"Configuracion"),t()()(),s(6,"p-divider"),e(7,"div",3)(8,"ul",4)(9,"li",5),p("click",function(){return l.selectItem("perfil")}),e(10,"a",6)(11,"span",7),r(12,"Perfil"),t()()(),e(13,"li",5),p("click",function(){return l.selectItem("cuenta")}),e(14,"a",6)(15,"span",7),r(16,"Cuenta"),t()()(),e(17,"li",5),p("click",function(){return l.selectItem("apariencia")}),e(18,"a",6)(19,"span",7),r(20,"Apariencia"),t()()(),e(21,"li",5),p("click",function(){return l.selectItem("contrase\xF1a")}),e(22,"a",6)(23,"span",7),r(24,"Cambiar contrase\xF1a"),t()()()(),e(25,"div",8),E(26,Ce,5,1)(27,ve,24,3)(28,Se,4,0)(29,be,10,1),t()()()(),s(30,"p-toast",9)),o&2&&(m(9),x("ngClass",F(8,Q,l.selectedItem==="perfil")),m(4),x("ngClass",F(10,Q,l.selectedItem==="cuenta")),m(4),x("ngClass",F(12,Q,l.selectedItem==="apariencia")),m(4),x("ngClass",F(14,Q,l.selectedItem==="contrase\xF1a")),m(5),g(26,l.selectedItem=="perfil"?26:-1),m(),g(27,l.selectedItem==="cuenta"?27:-1),m(),g(28,l.selectedItem==="apariencia"?28:-1),m(),g(29,l.selectedItem==="contrase\xF1a"?29:-1))},dependencies:[le,B,R,H,L,q,O,ie,G,U,D,P,N,j,z,$,Z,re,oe,te,ee,Y,X]});let n=c;return n})();export{Ye as default};
